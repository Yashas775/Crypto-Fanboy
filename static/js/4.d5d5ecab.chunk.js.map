{"version":3,"sources":["components/CoinsTable.js","components/Banner/Banner.js","components/ErrorBoundary.js","Pages/HomePage.js"],"names":["numberWithCommas","x","toString","replace","CoinsTable","useState","coins","setCoins","loading","setLoading","search","setSearch","page","setPage","CryptoState","currency","symbol","user","setAlert","watchlist","setWatchlist","classes","makeStyles","row","backgroundColor","cursor","fontFamily","pagination","color","useStyles","addToWatchlist","useHistory","a","findIndex","ele","id","push","coinRef","doc","db","uid","setDoc","items","merge","open","message","name","type","removeFromWatchlist","filter","darkTheme","createTheme","palette","primary","main","fetchCoins","axios","get","CoinList","data","useEffect","handleSearch","coin","toLowerCase","includes","theme","style","textAlign","variant","margin","label","marginBottom","width","onChange","e","target","value","component","Paper","map","head","fontWeight","align","slice","index","profit","price_change_percentage_24h","className","scope","display","gap","src","image","alt","height","flexDirection","textTransform","fontSize","current_price","toFixed","market_cap","onClick","count","length","padding","justifyContent","ul","_","window","scroll","banner","backgroundImage","bannerContent","paddingTop","tagline","carousel","alignItems","ErrorFallback","error","resetErrorBoundary","role","React","lazy","FavCoinsTable","Homepage","setValue","FallbackComponent","onReset","AppBar","position","Tabs","event","newValue","centered","borderRadius","boxShadow","Tab","fallback"],"mappings":"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","file":"static/js/4.d5d5ecab.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport { Button } from \"@material-ui/core\";\nimport { doc, setDoc } from \"firebase/firestore\";\nimport { onSnapshot } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nimport {\n  Container,\n  createTheme,\n  TableCell,\n  LinearProgress,\n  ThemeProvider,\n  Typography,\n  TextField,\n  TableBody,\n  TableRow,\n  TableHead,\n  TableContainer,\n  Table,\n  Paper,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { CoinList } from \"../config/api\";\nimport { useHistory } from \"react-router-dom\";\nimport { CryptoState } from \"../CryptoContext\";\n\nexport function numberWithCommas(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport default function CoinsTable() {\n  const [coins, setCoins] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [coin, setCoin] = useState();\n\n  const { currency, symbol, user, setAlert, watchlist, setWatchlist } =\n    CryptoState();\n\n  const useStyles = makeStyles({\n    row: {\n      backgroundColor: \"#16171a\",\n      cursor: \"pointer\",\n      \"&:hover\": {\n        backgroundColor: \"#131111\",\n      },\n      fontFamily: \"Montserrat\",\n    },\n    pagination: {\n      \"& .MuiPaginationItem-root\": {\n        color: \"#edf2f4\",\n      },\n    },\n  });\n\n  const classes = useStyles();\n  const history = useHistory();\n\n  const addToWatchlist = async (row) => {\n    let state = watchlist.findIndex((ele) => ele.id === row.id);\n\n    if (state === -1) {\n      watchlist.push(row);\n\n      const coinRef = doc(db, \"favs\", user.uid);\n\n      try {\n        await setDoc(coinRef, { items: watchlist }, { merge: true });\n\n        setAlert({\n          open: true,\n          message: `${row.name} Added to the Favs !`,\n          type: \"success\",\n        });\n      } catch (error) {\n        setAlert({\n          open: true,\n          message: error.message,\n          type: \"error\",\n        });\n      }\n    }\n  };\n\n  const removeFromWatchlist = async (row) => {\n    setWatchlist(watchlist.filter((ele) => ele.id !== row.id));\n\n    try {\n      const coinRef = doc(db, \"favs\", user.uid);\n      await setDoc(\n        coinRef,\n        { items: watchlist.filter((ele) => ele.id !== row.id) },\n        { merge: true }\n      );\n\n      setAlert({\n        open: true,\n        message: `${row.name} Removed from the Watchlist !`,\n        type: \"success\",\n      });\n    } catch (error) {\n      setAlert({\n        open: true,\n        message: error.message,\n        type: \"error\",\n      });\n    }\n  };\n\n  const darkTheme = createTheme({\n    palette: {\n      primary: {\n        main: \"#fff\",\n      },\n      type: \"dark\",\n    },\n  });\n\n  const fetchCoins = async () => {\n    setLoading(true);\n    const { data } = await axios.get(CoinList(currency));\n\n    setCoins(data);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchCoins();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currency]);\n\n  const handleSearch = () => {\n    return coins.filter(\n      (coin) =>\n        coin.name.toLowerCase().includes(search) ||\n        coin.symbol.toLowerCase().includes(search)\n    );\n  };\n\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <Container style={{ textAlign: \"center\" }}>\n        <Typography\n          variant=\"h4\"\n          style={{ margin: 18, fontFamily: \"Montserrat\" }}\n        >\n          Cryptocurrency Prices\n        </Typography>\n        <TextField\n          label=\"Search For a Crypto Currency..\"\n          variant=\"outlined\"\n          style={{ marginBottom: 20, width: \"100%\" }}\n          onChange={(e) => setSearch(e.target.value)}\n        />\n        <TableContainer component={Paper}>\n          {loading ? (\n            <LinearProgress style={{ backgroundColor: \"#7678ed\" }} />\n          ) : (\n            <Table aria-label=\"simple table\">\n              <TableHead style={{ backgroundColor: \"#7678ed\" }}>\n                <TableRow>\n                  {[\"Coin\", \"Price\", \"24h Change\", \"Market Cap\", \" \"].map(\n                    (head) => (\n                      <TableCell\n                        style={{\n                          color: \"white\",\n                          fontWeight: \"700\",\n                          fontFamily: \"Montserrat\",\n                        }}\n                        key={head}\n                        align={head === \"Coin\" ? \"\" : \"right\"}\n                      >\n                        {head}\n                      </TableCell>\n                    )\n                  )}\n                </TableRow>\n              </TableHead>\n\n              <TableBody>\n                {handleSearch()\n                  .slice((page - 1) * 10, (page - 1) * 10 + 10)\n                  .map((row) => {\n                    let index = watchlist.findIndex((ele) => ele.id === row.id);\n\n                    const profit = row.price_change_percentage_24h > 0;\n                    return (\n                      <TableRow className={classes.row} key={row.name}>\n                        <TableCell\n                          component=\"th\"\n                          scope=\"row\"\n                          style={{\n                            display: \"flex\",\n                            gap: 15,\n                          }}\n                        >\n                          <img\n                            src={row?.image}\n                            alt={row.name}\n                            height=\"50\"\n                            style={{ marginBottom: 10 }}\n                          />\n                          <div\n                            style={{ display: \"flex\", flexDirection: \"column\" }}\n                          >\n                            <span\n                              style={{\n                                textTransform: \"uppercase\",\n                                fontSize: 22,\n                              }}\n                            >\n                              {row.symbol}\n                            </span>\n                            <span style={{ color: \"darkgrey\" }}>\n                              {row.name}\n                            </span>\n                          </div>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          {symbol}{\" \"}\n                          {numberWithCommas(row.current_price.toFixed(2))}\n                        </TableCell>\n                        <TableCell\n                          align=\"right\"\n                          style={{\n                            color: profit > 0 ? \"rgb(14, 203, 129)\" : \"red\",\n                            fontWeight: 500,\n                          }}\n                        >\n                          {profit && \"+\"}\n                          {row.price_change_percentage_24h.toFixed(2)}%\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          {symbol}{\" \"}\n                          {numberWithCommas(\n                            row.market_cap.toString().slice(0, -6)\n                          )}\n                          M\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          {\n                            <Button\n                              variant=\"outlined\"\n                              style={{\n                                width: \"100\",\n                                height: 40,\n                                backgroundColor:\n                                  index !== -1 ? \"#ef233c\" : \"#7678ed\",\n                                color: \"white\",\n                              }}\n                              onClick={\n                                index !== -1\n                                  ? () => removeFromWatchlist(row)\n                                  : () => addToWatchlist(row)\n                              }\n                            >\n                              {index !== -1 ? \"Untrack\" : \"track\"}\n                            </Button>\n                          }\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n              </TableBody>\n            </Table>\n          )}\n        </TableContainer>\n\n        {/* Comes from @material-ui/lab */}\n        <Pagination\n          count={(handleSearch()?.length / 10).toFixed(0)}\n          style={{\n            padding: 20,\n            width: \"100%\",\n            display: \"flex\",\n\n            justifyContent: \"center\",\n          }}\n          classes={{ ul: classes.pagination }}\n          onChange={(_, value) => {\n            setPage(value);\n            window.scroll(0, 450);\n          }}\n        />\n      </Container>\n    </ThemeProvider>\n  );\n}\n","import { Container, makeStyles, Typography } from \"@material-ui/core\";\nimport Carousel from \"./Carousel\";\n\nconst useStyles = makeStyles((theme) => ({\n  banner: {\n    backgroundImage: \"url(./banner2.jpg)\",\n  },\n  bannerContent: {\n    height: 400,\n    display: \"flex\",\n    flexDirection: \"column\",\n    paddingTop: 25,\n    justifyContent: \"space-around\",\n  },\n  tagline: {\n    display: \"flex\",\n    height: \"40%\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  },\n  carousel: {\n    height: \"50%\",\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n}));\n\nfunction Banner() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.banner}>\n      <Container className={classes.bannerContent}>\n        <div className={classes.tagline}>\n          <Typography\n            variant=\"h2\"\n            style={{\n              fontWeight: \"bold\",\n              marginBottom: 15,\n              fontFamily: \"Montserrat\",\n            }}\n          >\n            Crypto Hunter\n          </Typography>\n          <Typography\n            variant=\"subtitle2\"\n            style={{\n              color: \"darkgrey\",\n              textTransform: \"capitalize\",\n              fontFamily: \"Montserrat\",\n            }}\n          >\n            Get all the Info regarding your favorite Crypto Currency\n          </Typography>\n        </div>\n        <Carousel />\n      </Container>\n    </div>\n  );\n}\n\nexport default Banner;\n","function ErrorFallback({ error, resetErrorBoundary }) {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre>{error.message}</pre>\n      <button onClick={resetErrorBoundary}>Try again</button>\n    </div>\n  );\n}\n\nexport default ErrorFallback;\n","import React, { Suspense, useState } from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport Banner from \"../components/Banner/Banner\";\nimport ErrorFallback from \"../components/ErrorBoundary\";\nimport { Button, Tab, Tabs, AppBar, Box } from \"@material-ui/core\";\nconst CoinsTable = React.lazy(() => import(\"../components/CoinsTable\"));\nconst FavCoinsTable = React.lazy(() => import(\"../components/fav_page\"));\n\nconst Homepage = () => {\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div>\n      <ErrorBoundary\n        FallbackComponent={ErrorFallback}\n        onReset={() => {\n          // reset the state of your app so the error doesn't happen again\n        }}\n      >\n        <AppBar\n          position=\"static\"\n          style={{\n            backgroundColor: \"transparent\",\n            color: \"white\",\n          }}\n        >\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            centered\n            style={{ borderRadius: 10, boxShadow: \"none\" }}\n          >\n            <Tab label=\"Home\" />\n            <Tab label=\"Favorite\" />\n          </Tabs>\n        </AppBar>\n        {value === 0 && (\n          <Suspense fallback={<div>Loading...</div>}>\n            <CoinsTable />\n          </Suspense>\n        )}\n        {value === 1 && <FavCoinsTable />}\n      </ErrorBoundary>\n    </div>\n  );\n};\n\nexport default Homepage;\n"],"sourceRoot":""}